head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")

    //- Force IE 8/9/10 to use its latest rendering engine
    meta(http-equiv="X-UA-Compatible", content="ie=edge")

    //- title based on the title js var (or the fallback)
    title Web Typography

    //- Short description of the document (limit to 150 characters)
        This content *may* be used as a part of search engine results.
    meta(name="description", content="Custom scalable typography for the web")
    //- Short description of your document's subject
    meta(name="subject", content="CSS Web Typography")

    //- Stylesheets
    link(rel="stylesheet", href="typography.scss", type="text/css")
    style.
        html,body{
            margin:0 auto;
            padding:0;
            scroll-behavior: smooth;
        }
        html{
            padding:0 calc((100% - 960px) * 0.5);
        }
        body{
            padding:var(--padding-unit);
        }
        #settings{
            position:sticky;
            position:fixed;
            display:flex;
            flex-direction:row;
            top:0;
            background:white;
        }
        fieldset{
            border: none;
            padding: 0;
            margin:0;
        }
        img{
            max-width:100%;
            height:auto;
        }
body

    header 
        h1 Web Typography
        h2 Scalable, rhythmic, simple

        nav
            a(href="#content") Skip to content
            ul
                li: a(href="#headings") Headings 
                li: a(href="#paragraphs") Paragraphs 
                li: a(href="#settings") Settings


    main#content

        section#operation

            ul#tips
                li Increase line-height for thick fonts
                li Increase line-height when fonts are a dark color
                li Increase line-height for long-form content

        section#headings
            h1 Heading Size H1
            h2 Heading Size H2
            h3 Heading Size H3
            h4 Heading Size H4
            h5 Heading Size H5
            h6 Heading Size H6

        section#paragraphs
            p(dropcap).lead.
                The text itself should always scale <em>proportionally</em> with the browser when the sizes set in the style sheet are matched by the dimensions of the viewport. Much of the heavy lifting is handled by the cascading nature of CSS and so <strong>no javascript is required</strong> to get it functional.


            p.
                A <mark>slightly bigger</mark> lead in paragraph. Test paragraph for length and wrapping and for columns when too long and unreadable
            p. 
                <ins>A test of some of the elements that html uses</ins> and we can style up such as the <strong>strong tag</strong> which makes things look stronger, or the <em>em tag</em> which emphasises the words, or how about the <sub>sub</sub> and <sup>sup</sup> tags for some extra snappiness?


            p.
                Lorem ipsum dolor sit amet, eu mel vidisse luptatum urbanitas. Cum harum exerci in. Ne pro tibique accommodare, diam fierent ullamcorper mea id, laudem delicatissimi nam ad. An vim sumo prompta fabellas. Mel salutandi posidonium at, et amet discere iracundia his.
                Et mei altera interesset. Ius cu facilis assentior, eam odio esse ut, at nonumes partiendo iudicabit per. Semper bonorum admodum sed at, tritani commune ei usu. Porro petentium pertinacia ei mel, tantas prompta ne eum. Ut sea bonorum veritus temporibus.
                Te his modus scripta ocurreret. Sit tollit delenit ea, doctus voluptatibus te per. Debitis officiis recusabo id vim, magna soleat mea ea, posidonium dissentiunt duo cu. Has nobis intellegam id.
            p.
                In erant omnes sit, no erat decore veritus eum. Te quot autem tincidunt usu. Wisi soleat dolores duo ad, his ea ipsum vituperatoribus, ei solet vulputate sea. Summo novum per eu, nec in copiosae interesset, natum option id duo. Vis diam omnesque torquatos in, vix virtute impedit percipit id. Vix ex nullam aliquip.
                Sit cu elitr accommodare. An eos tation impedit, ut cibo adhuc utamur pri. Nam ne inani putant, blandit intellegebat ex vis. Maiorum sadipscing at vel, ius et fastidii explicari euripidis, eros assum tollit ei eos. Cu urbanitas vulputate reprimique mei, ad sea modo alienum, eu oratio partem sadipscing pri.
            p 
                kbd <abbr>CTRl</abbr>+
            p 
                kbd <abbr>CTRl</abbr>-

            blockquote
                p Better to have a beer than a lobotomy
                cite Bertrand Russel

            figure
                img(src="https://picsum.photos/800/600" width="800" height="600" alt="random image")
                figcaption Fig1. - A view of the pulpit rock in Norway.</figcaption>

                
        // Custom sizes
        section#custom
            p.
                You can go utterly nuts with changing the size of any html element inline with very simple syntax.
                Check out the following examples for how to really play with the library
            
            code
                pre h1 style="--font-scale:1.2"
                    
            code   
                pre h1 style="--zoom:4.5"

        section#settings

            fieldset
                legend Zoom

                label(for="zoom") Zoom
                //- global overall zoom
                select#zoom(name="zoom")
                    option(value="0.5") 50%
                    option(value="0.75") 75%
                    option(value="1" selected) 100%
                    option(value="1.25") 125%
                    option(value="1.50") 150%
                    option(value="2.00") 200%

                label(for="font-zoom") Font Zoom
                //- global overall zoom
                select#font-zoom(name="font-zoom")
                    option(value="0.5") 50%
                    option(value="0.75") 75%
                    option(value="1" selected) 100%
                    option(value="1.25") 125%
                    option(value="1.50") 150%
                    option(value="2.00") 200%

            fieldset
                legend Vertical
                //- shared line-height (can set to whatever you like)
                //- NB. Will scale proportionally if left as a simple number
                //- --line-height:1.6;
                label(for="line-height") Line Height
                select#line-height(name="line-height")
                    option(value="1") 1
                    option(value="1.2") 1.2
                    option(value="1.3") 1.3
                    option(value="1.4") 1.4
                    option(value="1.5") 1.5
                    option(value="1.6" selected) 1.6
                    option(value="1.7") 1.7
                    option(value="1.8") 1.8
                    option(value="1.9") 1.9
                    option(value="2") 2

                label(for="balance") Vertical Balance
                    select#balance(name="balance")
                        option(value="0.5" selected) 0.5
                        option(value="1") 1

            fieldset
                legend Font Size
                label(for="font-size-min") Min Font Size
                select#font-size-min(name="font-size-min")
                    option(value="0.5") 0.5
                    option(value="0.6") 0.6
                    option(value="0.7") 0.7
                    option(value="0.8") 0.8
                    option(value="0.9") 0.9
                    option(value="1" selected) 1
                    option(value="1.25") 1.25
                    option(value="1.5") 1.5
                    option(value="1.75") 1.75
                    option(value="2") 2
                    option(value="3") 3
                    option(value="5") 5
                    option(value="4") 4
                    option(value="3.14") PI

                label(for="font-size-max") Max Font Size
                select#font-size-max(name="font-size-max")
                    option(value="6") 6
                    option(value="5") 5
                    option(value="4") 4
                    option(value="3" selected) 3
                    option(value="2") 2
                    option(value="1.75") 1.75
                    option(value="1.5") 1.5
                    option(value="1.25") 1.25
                    option(value="1") 1
                    option(value="3.14") PI

       

            //- <a href="javascript:rS(2.5)">2:5 – major tenth</a> <a href="javascript:rS(2.667)">3:8 – major eleventh</a> <a href="javascript:rS(3)">1:3 – major twelfth</a> <a href="javascript:rS(4)">1:4 – double octave</a> </div>
            fieldset
                legend Harmonies
                    label(for="harmonic") Harmonic Relation
                    select#harmonic(name="harmonic")
                        
                        option(value="1.067") 15:16 – minor second
                        option(value="1.125") 8:9 – major second
                        option(value="1.2") 5:6 – minor third
                        option(value="1.25") 4:5 – major third
                        option(value="1.333" selected) 3:4 – perfect fourth
                        option(value="1.414") 1:√2 – aug. fourth / dim. fifth
                        option(value="1.5") 2:3 – perfect fifth
                        option(value="1.6") 5:8 – minor sixth
                        option(value="1.618") 1:1.618 – golden section
                        option(value="1.667") 3:5 – major sixth
                        option(value="1.778") 9:16 – minor seventh
                        option(value="1.875") 8:15 – major seventh
                        option(value="2") 1:2 – octave
                        
                        option(value="8/7") 8/7
                        option(value="7/6") 7/6
                        
                        option(value="6/5") 6/5
                        option(value="5/4") 5/4
                        option(value="4/3") 4/3
                        option(value="7/5") 7/5
                        option(value="3/2") 3/2
                        option(value="1.581") Golden Ratio 1.581
                        option(value="1.22") 1.22
                        option(value="Math.PI/1.581") PI/PHI
                        option(value="Math.PI/3") PI/3
                        option(value="Math.PI/2") PI/2

            // If you specify the dropcap attribute on a paragraph
            // The very first initial will be styled larger 
            // The following variables allows you to control
            // how many vertical lines are covered
            //- --drop-cap-lines:3;

    script.
        const selects = document.querySelectorAll('select')
        selects.forEach( select => {
            const onUpdate = event => {

                const optionID = select.id
                const styleID = `--${optionID}`
                const value = event.target.value.indexOf("/") ? eval(event.target.value) : event.target.value
                const valueAsNumber = parseFloat(value)
                
                // pass to document styles
                //- document.documentElement.style[styleID] = value
                document.documentElement.style.setProperty( styleID, valueAsNumber )

                console.error(valueAsNumber, "Select #"+optionID,{styles:document.documentElement.style, styleID, select,event}, value )
            }
            select.onselect = onUpdate
            select.onchange = onUpdate
            
        })
        console.error("Config tools found",selects)

    
	


    


